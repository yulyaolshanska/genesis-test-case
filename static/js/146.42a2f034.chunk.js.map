{"version":3,"file":"static/js/146.42a2f034.chunk.js","mappings":"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","sources":["components/coursesList/CoursesList.styled.ts","pages/courseDetailsPage/CourseDetailsPage.styled.ts","components/VideoPlayer/VideoPlayer.tsx","components/CourseLessonsItem/CourseLessonsItem.styled.ts","pages/courseDetailsPage/CourseDetailsPage.tsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  padding: 40px 20px;\n  margin-left: auto;\n  margin-right: auto;\n  @media ${(p) => p.theme.media.tablet} {\n    width: 768px;\n  }\n  @media ${(p) => p.theme.media.desktop} {\n    width: 1280px;\n  }\n`;\n\nexport const Title = styled.h1`\n  margin-bottom: 20px;\n  font-weight: 700;\n  font-size: 32px;\n  text-align: center;\n  @media ${(p) => p.theme.media.tablet} {\n    margin-bottom: 30px;\n  }\n`;\n\nexport const CourseList = styled.ul`\n  display: flex;\n  margin-left: auto;\n  margin-right: auto;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  margin-bottom: 32px;\n  @media ${(p) => p.theme.media.tablet} {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    align-items: unset;\n    gap: 24px;\n  }\n`;\n\nexport const StyledButton = styled.button<{ active: boolean }>`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px 28px;\n\n  border: ${(p) => (p.active ? \"none\" : \"2px solid\")};\n  border-radius: 40px;\n\n  background-color: ${(p) =>\n    p.active ? p.theme.colors.accent : p.theme.colors.white};\n  color: ${(p) =>\n    p.active ? p.theme.colors.secondatyBtnText : p.theme.colors.accent};\n\n  :hover:not(:disabled),\n  :focus:not(:disabled) {\n    background-color: ${(p) =>\n      p.active ? p.theme.colors.accent : p.theme.colors.white};\n    border-color: ${(p) => p.theme.colors.hoverBtn};\n    color: ${(p) =>\n      p.active ? p.theme.colors.secondatyBtnText : p.theme.colors.accent};\n    outline: none;\n    cursor: ${(p) => (p.active ? \"pointer\" : \"none\")};\n  }\n`;\n\nexport const PaginationButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\nexport const PaginationButton = styled(StyledButton)`\n  border-radius: 20%;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: ${(p) => (p.active ? \"scale(1.1)\" : \"scale(1.0)\")};\n  }\n  :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n","import { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { MdArrowBackIos } from \"react-icons/md\";\nimport { FaLock } from \"react-icons/fa\";\n\nexport const ArrowIcon = styled(MdArrowBackIos)`\n  width: 20px;\n  height: 20px;\n  @media ${(p) => p.theme.media.tablet} {\n    width: 24px;\n    height: 24px;\n  }\n`;\n\nexport const VideoContainer = styled.div`\n  margin-left: auto;\n  margin-right: auto;\n`;\nexport const CourseTitle = styled.h1`\n  font-weight: 700;\n  font-size: 32px;\n  text-align: center;\n  margin-bottom: 20px;\n`;\nexport const Title = styled.p`\n  font-weight: 700;\n  font-size: 32px;\n  margin-bottom: 15px;\n`;\nexport const CourseDescription = styled.p`\n  text-align: center;\n  font-size: 18px;\n  margin-bottom: 16px;\n  @media ${(p) => p.theme.media.tablet} {\n    margin-bottom: 20px;\n  }\n`;\nexport const CourseLessonsList = styled.ol``;\n\nexport const BackLink = styled(NavLink)`\n  position: absolute;\n  top: 20px;\n  left: -30px;\n  /* width: 200px; */\n  z-index: 10;\n  padding: 10px 15px;\n  transform: translateX(50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 700;\n  color: ${(p) => p.theme.colors.accent};\n\n  border-radius: 20px;\n  background-color: rgb(246, 247, 247);\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover:not(.active),\n  &:focus-visible:not(.active) {\n    background-color: rgb(191, 191, 191);\n  }\n  &.active {\n    background-color: rgba(254, 254, 254, 0.5);\n  }\n`;\n\nexport const LockIcon = styled(FaLock)``;\nexport const TitleBox = styled.div`\n  display: flex;\n  align-items: center;\n`;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport Hls from \"hls.js\";\n\ninterface VideoPlayerProps {\n  videoLink: string;\n  previewImageLink: string;\n  order: number;\n  id: string;\n}\n\nconst VideoPlayer: React.FC<VideoPlayerProps> = ({\n  videoLink,\n  previewImageLink,\n  order,\n  id: videoId,\n}) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [currentVideoTime, setCurrentVideoTime] = useState<number>(0);\n\n  useEffect(() => {\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n\n    if (Hls.isSupported()) {\n      const hls = new Hls();\n      hls.attachMedia(videoElement);\n      hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n        hls.loadSource(videoLink);\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          const savedTime = localStorage.getItem(videoId);\n\n          if (savedTime !== null) {\n            videoElement.currentTime = parseInt(savedTime);\n          }\n        });\n      });\n    }\n  }, [videoLink, videoId]);\n\n  const handleTimeUpdate = () => {\n    const currentTime = videoRef.current?.currentTime || currentVideoTime;\n    if (currentTime !== 0) {\n      localStorage.setItem(videoId, String(currentTime));\n      setCurrentVideoTime(currentTime);\n    }\n  };\n  const poster = `${previewImageLink}/lesson-${order}.webp`;\n\n  return (\n    <video\n      width=\"100%\"\n      ref={videoRef}\n      controls\n      onTimeUpdate={handleTimeUpdate}\n      poster={poster}\n    />\n  );\n};\n\nexport default VideoPlayer;\n","import styled from \"styled-components\";\n\nexport const LessonTitle = styled.h2`\n  font-weight: 500;\n  margin-right: 10px;\n`;\nexport const LessonLink = styled.a``;\nexport const CourseLesson = styled.li`\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n  cursor: pointer;\n`;\n","import React, { useEffect, useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { useGetCourseByIdQuery } from \"redux/coursesApi\";\nimport {\n  ArrowIcon,\n  BackLink,\n  CourseDescription,\n  CourseLessonsList,\n  CourseTitle,\n  LockIcon,\n  Title,\n  TitleBox,\n  VideoContainer,\n} from \"./CourseDetailsPage.styled\";\nimport VideoPlayer from \"components/VideoPlayer/VideoPlayer\";\nimport {\n  CourseLesson,\n  LessonTitle,\n} from \"components/CourseLessonsItem/CourseLessonsItem.styled\";\nimport { Container } from \"components/coursesList/CoursesList.styled\";\n\ninterface LessonseDetails {\n  id: string;\n  link: string;\n  title: string;\n  status: string;\n  previewImageLink: string;\n  order: number;\n}\n\nconst CourseDetailsPage: React.FC = () => {\n  const { id: courseId = \"\" } = useParams();\n  const { data: course } = useGetCourseByIdQuery(courseId);\n  const [currentLesson, setCurrentLesson] = useState<LessonseDetails | null>(\n    null\n  );\n  const [isVideoOpen, setIsVideoOpen] = useState(false);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? \"/\";\n\n  useEffect(() => {\n    if (course && course.lessons && course.lessons.length > 0) {\n      setCurrentLesson(course.lessons[0]);\n    }\n  }, [course]);\n\n  const handleLessonClick = (lesson: LessonseDetails) => {\n    if (lesson.status !== \"locked\") {\n      setIsVideoOpen(true);\n      setCurrentLesson(lesson);\n    }\n  };\n\n  return (\n    <>\n      <Container>\n        <BackLink to={backLinkHref}>\n          <ArrowIcon />\n          Go Back\n        </BackLink>\n        <CourseTitle>{course?.title}</CourseTitle>\n        <CourseDescription>{course?.description}</CourseDescription>\n        <VideoContainer>\n          {isVideoOpen && currentLesson && (\n            <VideoPlayer\n              id={currentLesson.id}\n              videoLink={currentLesson.link}\n              order={currentLesson.order}\n              previewImageLink={currentLesson.previewImageLink}\n            />\n          )}\n        </VideoContainer>\n\n        {!isVideoOpen && currentLesson && (\n          <VideoPlayer\n            id={currentLesson.id}\n            videoLink={currentLesson.link}\n            order={currentLesson.order}\n            previewImageLink={currentLesson.previewImageLink}\n          />\n        )}\n        <Title>Lessons:</Title>\n        <CourseLessonsList>\n          {course?.lessons.map((lesson: LessonseDetails) => (\n            <CourseLesson\n              onClick={() => handleLessonClick(lesson)}\n              key={lesson.id}\n              id={lesson.id}\n              title={lesson.title}\n            >\n              <TitleBox>\n                <LessonTitle>{lesson.title}</LessonTitle>\n                {lesson.status === \"locked\" && <LockIcon />}\n              </TitleBox>\n            </CourseLesson>\n          ))}\n        </CourseLessonsList>\n      </Container>\n    </>\n  );\n};\nexport default CourseDetailsPage;\n"],"names":["Container","styled","p","theme","media","tablet","desktop","Title","CourseList","StyledButton","active","colors","accent","white","secondatyBtnText","hoverBtn","PaginationButtonContainer","PaginationButton","ArrowIcon","MdArrowBackIos","VideoContainer","CourseTitle","CourseDescription","CourseLessonsList","BackLink","NavLink","LockIcon","FaLock","TitleBox","videoLink","previewImageLink","order","videoId","id","videoRef","useRef","useState","currentVideoTime","setCurrentVideoTime","useEffect","videoElement","current","Hls","hls","attachMedia","on","loadSource","savedTime","localStorage","getItem","currentTime","parseInt","poster","width","ref","controls","onTimeUpdate","setItem","String","LessonTitle","CourseLesson","useParams","courseId","course","useGetCourseByIdQuery","data","currentLesson","setCurrentLesson","isVideoOpen","setIsVideoOpen","backLinkHref","useLocation","state","from","lessons","length","to","title","description","link","map","lesson","onClick","status","handleLessonClick"],"sourceRoot":""}