{"version":3,"file":"static/js/502.50077ac9.chunk.js","mappings":"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","sources":["components/coursesList/CoursesList.styled.ts","pages/courseDetailsPage/CourseDetailsPage.styled.ts","components/VideoPlayer/VideoPlayer.tsx","pages/courseDetailsPage/CourseDetailsPage.tsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  position: relative;\n  padding: 40px 20px;\n  margin-left: auto;\n  margin-right: auto;\n  @media ${(p) => p.theme.media.tablet} {\n    width: 768px;\n  }\n  @media ${(p) => p.theme.media.desktop} {\n    width: 1280px;\n  }\n`;\n\nexport const Title = styled.h1`\n  margin-bottom: 20px;\n  font-weight: 700;\n  font-size: 32px;\n  text-align: center;\n  @media ${(p) => p.theme.media.tablet} {\n    margin-bottom: 30px;\n  }\n`;\n\nexport const CourseList = styled.ul`\n  display: flex;\n  margin-left: auto;\n  margin-right: auto;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  margin-bottom: 32px;\n  @media ${(p) => p.theme.media.tablet} {\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    align-items: unset;\n    gap: 24px;\n  }\n`;\n\nexport const StyledButton = styled.button<{ active: boolean }>`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px 28px;\n  border: ${(p) => (p.active ? \"none\" : \"2px solid\")};\n  border-radius: 40px;\n  background-color: ${(p) =>\n    p.active ? p.theme.colors.accent : p.theme.colors.white};\n  color: ${(p) =>\n    p.active ? p.theme.colors.secondatyBtnText : p.theme.colors.accent};\n\n  :hover:not(:disabled),\n  :focus:not(:disabled) {\n    background-color: ${(p) =>\n      p.active ? p.theme.colors.accent : p.theme.colors.white};\n    border-color: ${(p) => p.theme.colors.hoverBtn};\n    color: ${(p) =>\n      p.active ? p.theme.colors.secondatyBtnText : p.theme.colors.accent};\n    outline: none;\n    cursor: ${(p) => (p.active ? \"pointer\" : \"none\")};\n  }\n`;\n\nexport const PaginationButtonContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\nexport const PaginationButton = styled(StyledButton)`\n  border-radius: 20%;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: ${(p) => (p.active ? \"scale(1.1)\" : \"scale(1.0)\")};\n  }\n  :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n","import { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { MdArrowBackIos } from \"react-icons/md\";\nimport { FaLock } from \"react-icons/fa\";\n\ninterface LessonTitleProps extends React.HTMLProps<HTMLHeadingElement> {\n  active?: boolean;\n}\n\nexport const ArrowIcon = styled(MdArrowBackIos)`\n  width: 20px;\n  height: 20px;\n  @media ${(p) => p.theme.media.tablet} {\n    width: 24px;\n    height: 24px;\n  }\n`;\n\nexport const VideoContainer = styled.div`\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport const CourseTitle = styled.h1`\n  margin-bottom: 20px;\n  font-weight: 700;\n  font-size: 32px;\n  text-align: center;\n`;\n\nexport const Title = styled.p`\n  margin-bottom: 15px;\n  font-weight: 700;\n  font-size: 32px;\n`;\n\nexport const CourseDescription = styled.p`\n  margin-bottom: 16px;\n  text-align: center;\n  font-size: 18px;\n  @media ${(p) => p.theme.media.tablet} {\n    margin-bottom: 20px;\n  }\n`;\n\nexport const CourseLessonsList = styled.ol``;\n\nexport const BackLink = styled(NavLink)`\n  position: absolute;\n  top: 20px;\n  left: -30px;\n  z-index: 10;\n  padding: 10px 15px;\n  transform: translateX(50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 700;\n  color: ${(p) => p.theme.colors.accent};\n  border-radius: 20px;\n  background-color: rgb(246, 247, 247);\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover:not(.active),\n  &:focus-visible:not(.active) {\n    background-color: rgb(191, 191, 191);\n  }\n  &.active {\n    background-color: rgba(254, 254, 254, 0.5);\n  }\n`;\n\nexport const LockIcon = styled(FaLock)``;\n\nexport const TitleBox = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const LessonTitle = styled.h2<LessonTitleProps>`\n  margin-right: 10px;\n  font-weight: 500;\n  color: ${(p) => (p.active ? \"#312ee2\" : \"inherit\")};\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.03);\n  }\n`;\nexport const LessonLink = styled.a``;\n\nexport const CurrentLessContainer = styled.div`\n  margin-bottom: 20px;\n`;\n\nexport const CurrentLesson = styled.p`\n  margin: 8px 0;\n  font-size: 20px;\n  font-weight: 600;\n`;\n\nexport const CurrentText = styled.span`\n  font-weight: 400;\n`;\n\nexport const CourseLesson = styled.li`\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n  cursor: pointer;\n`;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport Hls from \"hls.js\";\nimport LockedVideoImg from \"../../images/lockedVideo.png\";\n\ninterface VideoPlayerProps {\n  videoLink: string;\n  previewImageLink: string;\n  order: number;\n  id: string;\n  status: string;\n}\n\nconst VideoPlayer: React.FC<VideoPlayerProps> = ({\n  videoLink,\n  previewImageLink,\n  order,\n  id: videoId,\n  status,\n}) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [currentVideoTime, setCurrentVideoTime] = useState<number>(0);\n  const poster = `${previewImageLink}/lesson-${order}.webp`;\n\n  useEffect(() => {\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n\n    if (Hls.isSupported()) {\n      const hls = new Hls();\n      hls.attachMedia(videoElement);\n      hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n        hls.loadSource(videoLink);\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          const savedTime = localStorage.getItem(videoId);\n\n          if (savedTime !== null) {\n            videoElement.currentTime = parseInt(savedTime);\n          }\n        });\n      });\n    }\n  }, [videoLink, videoId]);\n\n  const handleTimeUpdate = () => {\n    const currentTime = videoRef.current?.currentTime || currentVideoTime;\n    if (currentTime !== 0) {\n      localStorage.setItem(videoId, String(currentTime));\n      setCurrentVideoTime(currentTime);\n    }\n  };\n\n  return (\n    <video\n      width=\"100%\"\n      ref={videoRef}\n      controls\n      onTimeUpdate={handleTimeUpdate}\n      poster={status === \"unlocked\" ? poster : LockedVideoImg}\n    />\n  );\n};\n\nexport default VideoPlayer;\n","import React, { useEffect, useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { useGetCourseByIdQuery } from \"redux/coursesApi\";\nimport {\n  ArrowIcon,\n  BackLink,\n  CourseDescription,\n  CourseLesson,\n  CourseLessonsList,\n  LessonTitle,\n  CourseTitle,\n  LockIcon,\n  Title,\n  TitleBox,\n  VideoContainer,\n  CurrentLesson,\n  CurrentLessContainer,\n  CurrentText,\n} from \"./CourseDetailsPage.styled\";\nimport { Container } from \"components/coursesList/CoursesList.styled\";\nimport VideoPlayer from \"components/VideoPlayer/VideoPlayer\";\n\ninterface LessonseDetails {\n  id: string;\n  link: string;\n  title: string;\n  status: string;\n  previewImageLink: string;\n  order: number;\n}\n\nconst CourseDetailsPage: React.FC = () => {\n  const { id: courseId = \"\" } = useParams();\n  const { state } = useLocation();\n  const backLinkHref = state?.from ?? \"/\";\n  const { data: course } = useGetCourseByIdQuery(courseId);\n  const [currentLesson, setCurrentLesson] = useState<LessonseDetails | null>(\n    null\n  );\n  const [isVideoOpen, setIsVideoOpen] = useState(true);\n\n  useEffect(() => {\n    if (course && course.lessons && course.lessons.length > 0) {\n      setCurrentLesson(course.lessons[0]);\n    }\n  }, [course]);\n\n  const handleLessonClick = (lesson: LessonseDetails) => {\n    if (lesson.status !== \"locked\") {\n      setIsVideoOpen(true);\n      setCurrentLesson(lesson);\n    }\n    if (lesson.status === \"locked\") {\n      setIsVideoOpen(false);\n    }\n  };\n\n  return (\n    <>\n      <Container>\n        <BackLink to={backLinkHref}>\n          <ArrowIcon />\n          Go Back\n        </BackLink>\n        <CourseTitle>{course?.title}</CourseTitle>\n        <CourseDescription>{course?.description}</CourseDescription>\n        <VideoContainer>\n          {isVideoOpen && currentLesson && (\n            <VideoPlayer\n              id={currentLesson.id}\n              videoLink={currentLesson.link}\n              order={currentLesson.order}\n              previewImageLink={currentLesson.previewImageLink}\n              status={currentLesson.status}\n            />\n          )}\n        </VideoContainer>\n        {currentLesson && (\n          <CurrentLessContainer>\n            <CurrentLesson>\n              Current Lesson: <CurrentText>{currentLesson.title}</CurrentText>\n            </CurrentLesson>\n            <CurrentLesson>\n              Status: <CurrentText>{currentLesson.status}</CurrentText>\n            </CurrentLesson>\n          </CurrentLessContainer>\n        )}\n        <Title>Lessons:</Title>\n        <CourseLessonsList>\n          {course?.lessons.map((lesson: LessonseDetails) => (\n            <CourseLesson\n              onClick={() => handleLessonClick(lesson)}\n              key={lesson.id}\n              id={lesson.id}\n            >\n              <TitleBox>\n                <LessonTitle active={currentLesson?.id === lesson.id}>\n                  {lesson.title}.\n                </LessonTitle>\n                {lesson.status === \"locked\" && <LockIcon />}\n              </TitleBox>\n            </CourseLesson>\n          ))}\n        </CourseLessonsList>\n      </Container>\n    </>\n  );\n};\n\nexport default CourseDetailsPage;\n"],"names":["Container","styled","p","theme","media","tablet","desktop","Title","CourseList","StyledButton","active","colors","accent","white","secondatyBtnText","hoverBtn","PaginationButtonContainer","PaginationButton","ArrowIcon","MdArrowBackIos","VideoContainer","CourseTitle","CourseDescription","CourseLessonsList","BackLink","NavLink","LockIcon","FaLock","TitleBox","LessonTitle","CurrentLessContainer","CurrentLesson","CurrentText","CourseLesson","videoLink","previewImageLink","order","videoId","id","status","videoRef","useRef","useState","currentVideoTime","setCurrentVideoTime","poster","useEffect","videoElement","current","Hls","hls","attachMedia","on","loadSource","savedTime","localStorage","getItem","currentTime","parseInt","width","ref","controls","onTimeUpdate","setItem","String","LockedVideoImg","useParams","courseId","state","useLocation","backLinkHref","from","course","useGetCourseByIdQuery","data","currentLesson","setCurrentLesson","isVideoOpen","setIsVideoOpen","lessons","length","to","title","description","link","map","lesson","onClick","handleLessonClick"],"sourceRoot":""}